<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">describe(&quot;Ext.util.Format&quot;, function() {
    var savedFormatLocale = {
            thousandSeparator: Ext.util.Format.thousandSeparator,
            decimalSeparator: Ext.util.Format.decimalSeparator,
            currencySign: Ext.util.Format.currencySign
        };

    describe(&quot;undef&quot;, function() {
        it(&quot;should return the value itself if defined&quot;, function() {
            expect(Ext.util.Format.undef(&quot;this is a defined value&quot;)).toBe(&quot;this is a defined value&quot;);
            expect(Ext.util.Format.undef(12345)).toBe(12345);
            expect(Ext.util.Format.undef(12345.67)).toBe(12345.67);
            expect(Ext.util.Format.undef(true)).toBe(true);
        });
        it(&quot;should return an empty string if the value is undefined&quot;, function() {
            expect(Ext.util.Format.undef(undefined)).toBe(&quot;&quot;);
        });
    });

    describe(&quot;defaultValue&quot;, function() {
        it(&quot;should return the value itself if defined&quot;, function () {
            expect(Ext.util.Format.defaultValue(&quot;value&quot;, &quot;default value&quot;)).toBe(&quot;value&quot;);
        });
        it(&quot;should return the default value if the value is undefined&quot;, function() {
            expect(Ext.util.Format.defaultValue(undefined, &quot;default value&quot;)).toBe(&quot;default value&quot;);
        });
        it(&quot;should return the default value if the value is empty&quot;, function() {
            expect(Ext.util.Format.defaultValue(&quot;&quot;, &quot;default value&quot;)).toBe(&quot;default value&quot;);
        });
    });

    describe(&quot;substr&quot;, function() {
        it(&quot;should truncate the string from the start position&quot;, function() {
            expect(Ext.util.Format.substr(&quot;abc&quot;, 0, 1)).toBe(&quot;a&quot;);
            expect(Ext.util.Format.substr(&quot;abc&quot;, 1, 1)).toBe(&quot;b&quot;);
            expect(Ext.util.Format.substr(&quot;abc&quot;, 2, 1)).toBe(&quot;c&quot;);
        });
        it(&quot;should truncate the string at the specified length&quot;, function() {
            expect(Ext.util.Format.substr(&quot;abc&quot;, 0, 0)).toBe(&quot;&quot;);
            expect(Ext.util.Format.substr(&quot;abc&quot;, 0, 1)).toBe(&quot;a&quot;);
            expect(Ext.util.Format.substr(&quot;abc&quot;, 0, 2)).toBe(&quot;ab&quot;);
            expect(Ext.util.Format.substr(&quot;abc&quot;, 0, 3)).toBe(&quot;abc&quot;);
        });
        it(&quot;should convert non-string values to its string representation and then truncate&quot;, function() {
            expect(Ext.util.Format.substr(1234, 1, 2)).toBe(&quot;23&quot;);
            expect(Ext.util.Format.substr(true, 1, 2)).toBe(&quot;ru&quot;);
        });
        it(&quot;should start at the end of the string if start value is negative&quot;, function() {
            expect(Ext.util.Format.substr(&quot;abc&quot;, -1, 1)).toBe(&quot;c&quot;);
            expect(Ext.util.Format.substr(&quot;abc&quot;, -2, 1)).toBe(&quot;b&quot;);
            expect(Ext.util.Format.substr(&quot;abc&quot;, -3, 1)).toBe(&quot;a&quot;);
            expect(Ext.util.Format.substr(&quot;abc&quot;, -4, 1)).toBe(&quot;a&quot;);
            expect(Ext.util.Format.substr(&quot;abc&quot;, -5, 1)).toBe(&quot;a&quot;);
        });
        it(&quot;should return empty string if start position is out of bounds&quot;, function() {
            expect(Ext.util.Format.substr(&quot;abc&quot;, 4, 1)).toBe(&quot;&quot;);
            expect(Ext.util.Format.substr(&quot;abc&quot;, 5, 1)).toBe(&quot;&quot;);
            expect(Ext.util.Format.substr(&quot;abc&quot;, 6, 1)).toBe(&quot;&quot;);
        });
        it(&quot;should return empty string if length is negative&quot;, function() {
            expect(Ext.util.Format.substr(&quot;abc&quot;, 0, -1)).toBe(&quot;&quot;);
            expect(Ext.util.Format.substr(&quot;abc&quot;, 0, -2)).toBe(&quot;&quot;);
            expect(Ext.util.Format.substr(&quot;abc&quot;, 0, -3)).toBe(&quot;&quot;);
        });
        it(&quot;should return the whole string if specified length is greater than string length&quot;, function() {
            expect(Ext.util.Format.substr(&quot;abc&quot;, 0, 4)).toBe(&quot;abc&quot;);
            expect(Ext.util.Format.substr(&quot;abc&quot;, 0, 5)).toBe(&quot;abc&quot;);
            expect(Ext.util.Format.substr(&quot;abc&quot;, 1, 3)).toBe(&quot;bc&quot;);
            expect(Ext.util.Format.substr(&quot;abc&quot;, 2, 2)).toBe(&quot;c&quot;);
        });
    });

    describe(&quot;lowercase&quot;, function() {
        it(&quot;should preserve lowercase strings&quot;, function() {
            expect(Ext.util.Format.lowercase(&quot;lowercase string&quot;)).toBe(&quot;lowercase string&quot;);
        });
        it(&quot;should convert uppercase strings to lowercase&quot;, function() {
            expect(Ext.util.Format.lowercase(&quot;UPPERCASE STRING&quot;)).toBe(&quot;uppercase string&quot;);
        });
        it(&quot;should convert mixed lowercase/uppercase strings to lowercase&quot;, function() {
            expect(Ext.util.Format.lowercase(&quot;MIXED string&quot;)).toBe(&quot;mixed string&quot;);
            expect(Ext.util.Format.lowercase(&quot;mixed STRING&quot;)).toBe(&quot;mixed string&quot;);
            expect(Ext.util.Format.lowercase(&quot;MiXeD sTrIng&quot;)).toBe(&quot;mixed string&quot;);
        });
        it(&quot;should be null/undefined safe&quot;, function() {
            expect(Ext.util.Format.lowercase(undefined)).toBe(&quot;undefined&quot;);
            expect(Ext.util.Format.lowercase(null)).toBe(&quot;null&quot;);
        });
        it(&quot;should cast non-string values before processing&quot;, function() {
            expect(Ext.util.Format.lowercase(123)).toBe(&quot;123&quot;);
            expect(Ext.util.Format.lowercase(true)).toBe(&quot;true&quot;);
        });
    });

    describe(&quot;uppercase&quot;, function() {
        it(&quot;should preserve uppercase strings&quot;, function() {
            expect(Ext.util.Format.uppercase(&quot;UPPERCASE STRING&quot;)).toBe(&quot;UPPERCASE STRING&quot;);
        });
        it(&quot;should convert lowercase strings to uppercase&quot;, function() {
            expect(Ext.util.Format.uppercase(&quot;lowercase string&quot;)).toBe(&quot;LOWERCASE STRING&quot;);
        });
        it(&quot;should convert mixed lowercase/uppercase strings to uppercase&quot;, function() {
            expect(Ext.util.Format.uppercase(&quot;MIXED string&quot;)).toBe(&quot;MIXED STRING&quot;);
            expect(Ext.util.Format.uppercase(&quot;mixed STRING&quot;)).toBe(&quot;MIXED STRING&quot;);
            expect(Ext.util.Format.uppercase(&quot;MiXeD sTrIng&quot;)).toBe(&quot;MIXED STRING&quot;);
        });
        it(&quot;should be null/undefined safe&quot;, function() {
            expect(Ext.util.Format.uppercase(undefined)).toBe(&quot;UNDEFINED&quot;);
            expect(Ext.util.Format.uppercase(null)).toBe(&quot;NULL&quot;);
        });
        it(&quot;should cast non-string values before processing&quot;, function() {
            expect(Ext.util.Format.uppercase(123)).toBe(&quot;123&quot;);
            expect(Ext.util.Format.uppercase(true)).toBe(&quot;TRUE&quot;);
        });
    });

    describe(&quot;usMoney&quot;, function(){
        it(&quot;should format with 2 decimals, prefixed by a dollar sign&quot;, function() {
            expect(Ext.util.Format.usMoney(1234.567)).toEqual(&quot;$1,234.57&quot;);
        });
        it(&quot;should format with 2 decimals, prefixed by a negative sign, and a dollar sign&quot;, function() {
            expect(Ext.util.Format.usMoney(-1234.567)).toEqual(&quot;-$1,234.57&quot;);
        });
        it(&quot;should format with a comma as a thousand separator&quot;, function() {
            expect(Ext.util.Format.usMoney(1234567.89)).toEqual(&quot;$1,234,567.89&quot;);
        });
    });


    describe(&quot;currency in FR locale&quot;, function(){
        beforeEach(function() {
            Ext.apply(Ext.util.Format, {
                thousandSeparator: '.',
                decimalSeparator: ',',
                currencySign: '\u20ac',
                dateFormat: 'd/m/Y'
            });
        });
        afterEach(function() {
            Ext.apply(Ext.util.Format, savedFormatLocale);
        });

        it(&quot;should format with 2 decimals, prefixed by a euro sign&quot;, function() {
            expect(Ext.util.Format.currency(1234.567)).toEqual(&quot;\u20ac1.234,57&quot;);
        });
        it(&quot;should format with 2 decimals, prefixed by a negative sign, and a euro sign&quot;, function() {
            expect(Ext.util.Format.currency(-1234.567)).toEqual(&quot;-\u20ac1.234,57&quot;);
        });
    });

    describe(&quot;currency&quot;, function() {
        it(&quot;should allow 0 for a decimal value&quot;, function(){
            expect(Ext.util.Format.currency(100, '$', 0)).toBe('$100');
        });
        it(&quot;should position currency signal where specified&quot;, function() {
          expect(Ext.util.Format.currency(123.45, '$', 2)).toBe(&quot;$123.45&quot;);
          expect(Ext.util.Format.currency(123.45, '$', 2, false)).toBe(&quot;$123.45&quot;);
          expect(Ext.util.Format.currency(123.45, '$', 2, true)).toBe(&quot;123.45$&quot;);
        });
    });

    describe(&quot;number in default (US) locale&quot;, function() {
        it(&quot;should format with no decimals&quot;, function() {
            expect(Ext.util.Format.number(1, &quot;0&quot;)).toEqual(&quot;1&quot;);
        });
        it(&quot;should format with two decimals&quot;, function() {
            expect(Ext.util.Format.number(1, &quot;0.00&quot;)).toEqual(&quot;1.00&quot;);
        });
        it(&quot;should format+round with two decimals, and no thousand separators&quot;, function() {
            expect(Ext.util.Format.number(1234.567, &quot;0.00&quot;)).toEqual(&quot;1234.57&quot;);
        });
        it(&quot;should format+round with two decimals, and ',' as the thousand separator&quot;, function() {
            expect(Ext.util.Format.number(1234.567, &quot;,0.00&quot;)).toEqual(&quot;1,234.57&quot;);
        });
        it(&quot;should format+round with no decimals, and ',' as the thousand separator&quot;, function() {
            expect(Ext.util.Format.number(1234.567, &quot;,0&quot;)).toEqual(&quot;1,235&quot;);
        });
    });

    describe(&quot;number using FR locale&quot;, function() {
        var savedFormatLocale = {
            thousandSeparator: Ext.util.Format.thousandSeparator,
            decimalSeparator: Ext.util.Format.decimalSeparator,
            currencySign: Ext.util.Format.currencySign,
            dateFormat: Ext.util.Format.dateFormat
        };

        beforeEach(function() {
            Ext.apply(Ext.util.Format, {
                thousandSeparator: '.',
                decimalSeparator: ',',
                currencySign: '\u20ac',
                dateFormat: 'd/m/Y'
            });
        });
        afterEach(function() {
            Ext.apply(Ext.util.Format, savedFormatLocale);
        });

        it(&quot;should format with no decimals&quot;, function() {
            expect(Ext.util.Format.number(1, &quot;0&quot;)).toEqual(&quot;1&quot;);
        });
        it(&quot;should format with two decimals&quot;, function() {
            expect(Ext.util.Format.number(1, &quot;0.00&quot;)).toEqual(&quot;1,00&quot;);
        });
        it(&quot;should format+round with two decimals, and no thousand separators&quot;, function() {
            expect(Ext.util.Format.number(1234.567, &quot;0.00&quot;)).toEqual(&quot;1234,57&quot;);
        });
        it(&quot;should format+round with two decimals after a ',', and '.' as the thousand separator&quot;, function() {
            expect(Ext.util.Format.number(1234.567, &quot;,0.00&quot;)).toEqual(&quot;1.234,57&quot;);
        });
        it(&quot;should format+round with no decimals, and '.' as the thousand separator&quot;, function() {
            expect(Ext.util.Format.number(1234.567, &quot;,0&quot;)).toEqual(&quot;1.235&quot;);
        });
    });

    // In Ext4, the &quot;/i&quot; suffix allows you to use locale-specific separators in the format string, as opposed
    // to US/UK conventions. Output however ALWAYS follows the local settings in the Format singleton which may
    // be overridden by locale files.
    describe(&quot;number using FR locale with /i&quot;, function() {
        var savedFormatLocale = {
            thousandSeparator: Ext.util.Format.thousandSeparator,
            decimalSeparator: Ext.util.Format.decimalSeparator,
            currencySign: Ext.util.Format.currencySign,
            dateFormat: Ext.util.Format.dateFormat
        };

        // set up the FR formatting locale
        beforeEach(function() {
            Ext.apply(Ext.util.Format, {
                thousandSeparator: '.',
                decimalSeparator: ',',
                currencySign: '\u20ac',
                dateFormat: 'd/m/Y'
            });
        });
        afterEach(function() {
            Ext.apply(Ext.util.Format, savedFormatLocale);
        });

        // Demonstrate &quot;Incorrect&quot; use with &quot;/i&quot;. '.' means thousand separator and ',' means decimal in FR locale.
        // Read carefully. In the formatting strings below, '.' is taken to mean thousand separator, and
        // ',' is taken to mean decimal separator
        it(&quot;should format with no decimals&quot;, function() {
            expect(Ext.util.Format.number(1, &quot;0.00/i&quot;)).toEqual(&quot;1&quot;);
        });
        it(&quot;should format+round with no decimals, and '.' as thousand separator&quot;, function() {
            expect(Ext.util.Format.number(1234.567, &quot;0.00/i&quot;)).toEqual(&quot;1.235&quot;);
        });
        it(&quot;should format+round with three decimals after a ',', and '.' as the thousand separator&quot;, function() {
            expect(Ext.util.Format.number(1234.567, &quot;,0.00/i&quot;)).toEqual(&quot;1.234,567&quot;);
        });
        it(&quot;should format+round with one decimal, and no thousand separator&quot;, function() {
            expect(Ext.util.Format.number(1234.567, &quot;,0/i&quot;)).toEqual(&quot;1234,6&quot;);
        });

        // Correct usage
        it(&quot;should format with two decimals&quot;, function() {
            expect(Ext.util.Format.number(1, &quot;0,00/i&quot;)).toEqual(&quot;1,00&quot;);
        });
        it(&quot;should format+round with two decimals, and no thousand separators&quot;, function() {
            expect(Ext.util.Format.number(1234.567, &quot;0,00/i&quot;)).toEqual(&quot;1234,57&quot;);
        });
        it(&quot;should format+round with two decimals after a ',', and '.' as the thousand separator&quot;, function() {
            expect(Ext.util.Format.number(1234.567, &quot;.0,00/i&quot;)).toEqual(&quot;1.234,57&quot;);
        });
        it(&quot;should format+round with no decimals, and '.' as the thousand separator&quot;, function() {
            expect(Ext.util.Format.number(1234.567, &quot;.0/i&quot;)).toEqual(&quot;1.235&quot;);
        });

    });

    it(&quot;should check for a 0 value before appending negative&quot;, function(){
        expect(Ext.util.Format.number(-2.842170943040401e-14, &quot;0,000.00&quot;)).toEqual('0.00');
    });

    describe(&quot;number&quot;, function() {
        it(&quot;should return the number itself if formatString is not specified&quot;, function() {
            expect(Ext.util.Format.number(12345.67, undefined)).toBe(12345.67);
            expect(Ext.util.Format.number(12345.67, null)).toBe(12345.67);
        });
        it(&quot;should return empty string if value is not a number&quot;, function() {
            expect(Ext.util.Format.number(&quot;this is not a number&quot;, &quot;0.00&quot;)).toBe(&quot;&quot;);
        });

        it(&quot;should raise error if more than one decimal point is specified in the format string&quot;, function() {
            expect(function() { Ext.util.Format.number(&quot;1234.67&quot;, &quot;0.0.00&quot;) }).toRaiseExtError();
        });
    });

    describe(&quot;date&quot;, function() {
        it(&quot;should return empty string for undefined values&quot;, function() {
            expect(Ext.util.Format.date(undefined)).toBe('');
        });
        it(&quot;should return empty string for null values&quot;, function() {
            expect(Ext.util.Format.date(null)).toBe('');
        });
        it(&quot;should parse string dates&quot;, function() {
            expect(Ext.util.Format.date(&quot;10/15/81&quot;)).toBe(&quot;10/15/1981&quot;);
        });
        it(&quot;should format according to Ext.Date.defaultFormat if no format was specified&quot;, function() {
            var date = new Date(1981, 9, 15, 15, 46, 30);
            expect(Ext.util.Format.date(date)).toBe(&quot;10/15/1981&quot;);
        });
        it(&quot;should format according to specified format when specified&quot;, function() {
            var date = new Date(1981, 9, 15, 15, 46, 30);
            expect(Ext.util.Format.date(date, &quot;d/m/Y H:i:s&quot;)).toBe(&quot;15/10/1981 15:46:30&quot;);
        });
    });

    describe(&quot;dateRenderer&quot;, function() {
        it(&quot;should return a function that formats dates with the specified format&quot;, function() {
            var date = new Date(1981, 9, 15, 15, 46, 30);
            expect(Ext.util.Format.dateRenderer(&quot;d/m/Y H:i:s&quot;).call(this, date)).toBe(&quot;15/10/1981 15:46:30&quot;);
        });
    });

    describe(&quot;stripTags&quot;, function() {
        it(&quot;should return undefined if value is undefined&quot;, function() {
            expect(Ext.util.Format.stripTags(undefined)).toBeUndefined();
        });
        it(&quot;should return null if value is null&quot;, function() {
            expect(Ext.util.Format.stripTags(null)).toBeNull();
        });
        it(&quot;should return the exact original value if it doesn't contains any tags&quot;, function() {
            expect(Ext.util.Format.stripTags(&quot;this string contains no tags&quot;)).toBe(&quot;this string contains no tags&quot;);
        });
        it(&quot;should strip tags when found&quot;, function() {
            expect(Ext.util.Format.stripTags(&quot;&lt;p&gt;this string &lt;b&gt;contains&lt;/b&gt; tags&lt;/p&gt;&quot;)).toBe(&quot;this string contains tags&quot;);
        });
    });

    describe(&quot;stripScripts&quot;, function() {
        it(&quot;should return undefined if value is undefined&quot;, function() {
            expect(Ext.util.Format.stripScripts(undefined)).toBeUndefined();
        });
        it(&quot;should return null if value is null&quot;, function() {
            expect(Ext.util.Format.stripScripts(null)).toBeNull();
        });
        it(&quot;should return the exact original value if it doesn't contains any scripts&quot;, function() {
            expect(Ext.util.Format.stripTags(&quot;this string contains no scripts&quot;)).toBe(&quot;this string contains no scripts&quot;);
        });
        it(&quot;should stript scripts when found&quot;, function() {
            expect(Ext.util.Format.stripScripts(&quot;&lt;script&gt;alert('foo');&lt;/script&gt;this string &lt;b&gt;contains&lt;/b&gt; scripts&quot;)).toBe(&quot;this string &lt;b&gt;contains&lt;/b&gt; scripts&quot;);
        });
    });

    describe(&quot;fileSize&quot;, function() {
        it(&quot;should return the size in bytes if size &lt; 1024&quot;, function() {
            expect(Ext.util.Format.fileSize(-9999999999)).toBe(&quot;-9999999999 bytes&quot;);
            expect(Ext.util.Format.fileSize(0)).toBe(&quot;0 bytes&quot;);
            expect(Ext.util.Format.fileSize(1023)).toBe(&quot;1023 bytes&quot;);
        });
        it(&quot;should return the size in kilobytes if 1024 &lt;= size &lt; 1MB&quot;, function() {
            expect(Ext.util.Format.fileSize(1024)).toBe(&quot;1 KB&quot;);
            expect(Ext.util.Format.fileSize(1024 * 1024 - 1)).toBe(&quot;1024 KB&quot;);
        });
        it(&quot;should return the size in megabytes if size &gt;= 1MB&quot;, function() {
            expect(Ext.util.Format.fileSize(1024 * 1024)).toBe(&quot;1 MB&quot;);
            expect(Ext.util.Format.fileSize(1024 * 1024 * 100)).toBe(&quot;100 MB&quot;);
            expect(Ext.util.Format.fileSize(1024 * 1024 * 1024)).toBe(&quot;1024 MB&quot;);
        });
    });

    describe(&quot;math&quot;, function() {
        it(&quot;should return the first argument and the evaluation of the second argument&quot;, function() {
            expect(Ext.util.Format.math(12, '+ 12')).toBe(24);
            expect(Ext.util.Format.math(12, '* 12')).toBe(144);
        });
    });

    describe(&quot;round&quot;, function() {
        it(&quot;should preserve the original value if the precision is not specified&quot;, function() {
            expect(Ext.util.Format.round(1234.56)).toBe(1234.56);
        });
        it(&quot;should preserve the original value if precision is not a number&quot;, function() {
            expect(Ext.util.Format.round(1234.56, &quot;invalid precision&quot;)).toBe(1234.56);
        });
        it(&quot;should round the value to the specified precision&quot;, function() {
            expect(Ext.util.Format.round(1234.50, 1)).toBe(1234.5);
            expect(Ext.util.Format.round(1234.54, 1)).toBe(1234.5);
            expect(Ext.util.Format.round(1234.55, 1)).toBe(1234.6);
            expect(Ext.util.Format.round(1234.59, 1)).toBe(1234.6);
        });
    });

    describe(&quot;numberRenderer&quot;, function() {
        it(&quot;should return a function that formats a number with the specified format&quot;, function() {
            expect(Ext.util.Format.numberRenderer(&quot;0.00&quot;)(123.321)).toBe(&quot;123.32&quot;);
        });
    });

    describe(&quot;plural&quot;, function() {
        it(&quot;should return the singular form if count == 1&quot;, function() {
            expect(Ext.util.Format.plural(1, &quot;car&quot;)).toBe(&quot;1 car&quot;);
            expect(Ext.util.Format.plural(1, &quot;child&quot;, &quot;children&quot;)).toBe(&quot;1 child&quot;);
        });
        it(&quot;should return the plural as singular+s by default if count &lt;&gt; 1&quot;, function() {
            expect(Ext.util.Format.plural(0, &quot;car&quot;)).toBe(&quot;0 cars&quot;);
            expect(Ext.util.Format.plural(2, &quot;car&quot;)).toBe(&quot;2 cars&quot;);
        });
        it(&quot;should return the specified plural if count &lt;&gt; 1&quot;, function() {
            expect(Ext.util.Format.plural(0, &quot;child&quot;, &quot;children&quot;)).toBe(&quot;0 children&quot;);
            expect(Ext.util.Format.plural(2, &quot;child&quot;, &quot;children&quot;)).toBe(&quot;2 children&quot;);
        });
    });

    describe(&quot;nl2br&quot;, function() {
        it(&quot;should convert newline characters to &lt;br/&gt;&quot;, function() {
            expect(Ext.util.Format.nl2br(&quot;first line\nsecond line&quot;)).toBe(&quot;first line&lt;br/&gt;second line&quot;);
        });
        it(&quot;should be null/undefined safe&quot;, function() {
            expect(Ext.util.Format.nl2br(undefined)).toBe(&quot;&quot;);
            expect(Ext.util.Format.nl2br(null)).toBe(&quot;&quot;);
        });
    });

    describe(&quot;capitalize&quot;, function() {
        it(&quot;should be alias to Ext.String.capitalize&quot;, function() {
            expect(Ext.util.Format.capitalize).toBe(Ext.String.capitalize);
        });
    });

    describe(&quot;ellipsis&quot;, function() {
        it(&quot;should be alias to Ext.String.ellipsis&quot;, function() {
            expect(Ext.util.Format.ellipsis).toBe(Ext.String.ellipsis);
        });
    });

    describe(&quot;format&quot;, function() {
        it(&quot;should be alias to Ext.String.format&quot;, function() {
            expect(Ext.util.Format.format).toBe(Ext.String.format);
        });
    });

    describe(&quot;htmlDecode&quot;, function() {
        it(&quot;should be alias to Ext.String.htmlDecode&quot;, function() {
            expect(Ext.util.Format.htmlDecode).toBe(Ext.String.htmlDecode);
        });
    });

    describe(&quot;htmlEncode&quot;, function() {
        it(&quot;should be alias to Ext.String.htmlEncode&quot;, function() {
            expect(Ext.util.Format.htmlEncode).toBe(Ext.String.htmlEncode);
        });
    });

    describe(&quot;leftPad&quot;, function() {
        it(&quot;should be alias to Ext.String.leftPad&quot;, function() {
            expect(Ext.util.Format.leftPad).toBe(Ext.String.leftPad);
        });
    });

    describe(&quot;trim&quot;, function() {
        it(&quot;should be alias to Ext.String.trim&quot;, function() {
            expect(Ext.util.Format.trim).toBe(Ext.String.trim);
        });
    });

    describe(&quot;parseBox&quot;, function() {
        it(&quot;should return a box when 4 margins are specified&quot;, function() {
            expect(Ext.util.Format.parseBox(&quot;1 2 3 4&quot;)).toEqual({
                top: 1,
                right: 2,
                bottom: 3,
                left: 4
        });
      });
      it(&quot;should return a box when 3 margins are specified&quot;, function() {
          expect(Ext.util.Format.parseBox(&quot;1 2 3&quot;)).toEqual({
              top: 1,
              right: 2,
              bottom: 3,
              left: 2
          });
      });
      it(&quot;should return a box when 2 margins are specified&quot;, function() {
          expect(Ext.util.Format.parseBox(&quot;1 2&quot;)).toEqual({
              top: 1,
              right: 2,
              bottom: 1,
              left: 2
          });
      });
      it(&quot;should return a box when 1 margin is specified&quot;, function() {
          expect(Ext.util.Format.parseBox(&quot;1&quot;)).toEqual({
              top: 1,
              right: 1,
              bottom: 1,
              left: 1
          });
      });
      it(&quot;should return a box when 1 margin is specified as number&quot;, function() {
          expect(Ext.util.Format.parseBox(1)).toEqual({
              top: 1,
              right: 1,
              bottom: 1,
              left: 1
          });
      });
      it(&quot;should return a 0 margin box when no margin is specified&quot;, function() {
          var zeroMarginBox = {
             top: 0,
             right: 0,
             bottom: 0,
             left: 0
          };
          expect(Ext.util.Format.parseBox(undefined)).toEqual(zeroMarginBox);
          expect(Ext.util.Format.parseBox(null)).toEqual(zeroMarginBox);
          expect(Ext.util.Format.parseBox(&quot;&quot;)).toEqual(zeroMarginBox);
          expect(Ext.util.Format.parseBox(&quot;    &quot;)).toEqual(zeroMarginBox);
      });
    });

    describe(&quot;escapeRegex&quot;, function() {
        it(&quot;should escape regular expressions&quot;, function() {
            expect(Ext.util.Format.escapeRegex(&quot;-.*+?^${}()|[]/\\abc0123&quot;)).toBe(&quot;\\-\\.\\*\\+\\?\\^\\$\\{\\}\\(\\)\\|\\[\\]\\/\\\\abc0123&quot;);
        });
    });

});
</pre>
</body>
</html>
